Airport Challenge
=================

```
        ______
        _\____\___
=  = ==(____MA____)
          \_____\___________________,-~~~~~~~`-.._
          /     o o o o o o o o o o o o o o o o  |\_
          `~-.__       __..----..__                  )
                `---~~\___________/------------`````
                =  ===(_________)

```


Task
-----

Fulfil a request from a client to write software to control the flow of planes at an airport. The planes can land and take off provided that the weather is sunny. Occasionally it may be stormy, in which case no planes can land or take off.


Approach
-----
My method was to read through the user stories as whole to get a loose idea of the software, then begin again from the top and breaking down and solving each story sequentially. For each story the process went as follows:
 * Convert the story into a domain model, identifying the objects and methods needed.
 * Run an irb simulation to help imagine user interaction.
 * Extract unit tests from the results.
 * Drive the code with these tests using rspec.
 * Encapsulate objects and methods based on the behaviour sought. Creating separate files and test files for each object.
 * Keep an eye on the test coverage statistics generated by SimpleCov aiming for 100%.
 * Run rubocop regularly committing once tests are green.
 * If all tests are green use irb to check that the story features are met. If not, loop through the above points again, repeating until working as intended.


User Software Guide
-------

**As an air traffic controller**

A plane is able to receive one command:

`land_at(airport, forecast)` - The airport name and the weather status must be given.

In the interest of safety:

Landing is prevented if the weather is stormy.

Landing is also prevented if the airport is full.

An airport can receive three commands:

`hangar` - Returns that are in planes currently in the hanger.

`capacity` - Returns the maximum capacity of the airport.

`takeoff(plane, forecast)` - Allows a plane to takeoff from the airport. The plane in question and the weather status must be given.

In the interest of safety:

Takeoff is prevented if the weather is stormy.



**As the system designer**

You are able to update the default airport capacity. Simply edit the value for
`airport.rb, line 9: @capacity = 2`
before initializing the system.

Please note you will then need to update the following rspec tests:

`returns airport capacity` - update the equal to value

`prevents landing if airport is at full capacity` - append enough planes to fill the new capacity


irb usage example
-------
You only need to require plane.rb in order to run.
Plane and Airport objects must be created to test with.
`Weather.randomiser` may also be entered as an argument instead of a forecast string.
```
2.5.0 :001 > require './lib/plane.rb'
 => true
2.5.0 :002 > B747 = Plane.new
 => #<Plane:0x00007fbe558712f0>
2.5.0 :003 > Heathrow = Airport.new
 => #<Airport:0x00007fbe558693c0 @hangar=[], @capacity=2>
2.5.0 :004 > Heathrow.capacity
 => 2
2.5.0 :005 > Heathrow.hangar
 => []
2.5.0 :006 > B747.land_at(Heathrow, "sunny")
 => [#<Plane:0x00007fbe558712f0>]
2.5.0 :007 > Heathrow.hangar
 => [#<Plane:0x00007fbe558712f0>]
2.5.0 :008 > B747_400 = Plane.new
 => #<Plane:0x00007fbe541a2e70>
2.5.0 :009 > B747_400.land_at(Heathrow, "stormy")
 => "Landing prevented due to stormy weather"
2.5.0 :010 > Heathrow.hangar
 => [#<Plane:0x00007fbe558712f0>]
2.5.0 :011 > B747_400.land_at(Heathrow, "sunny")
 => [#<Plane:0x00007fbe558712f0>, #<Plane:0x00007fbe541a2e70>]
2.5.0 :012 > Heathrow.hangar
 => [#<Plane:0x00007fbe558712f0>, #<Plane:0x00007fbe541a2e70>]
2.5.0 :013 > Heathrow.takeoff(B747, "stormy")
 => "Takeoff prevented due to stormy weather"
2.5.0 :014 > Heathrow.takeoff(B747, "sunny")
 => [#<Plane:0x00007fbe541a2e70>]
2.5.0 :015 > Heathrow.takeoff(B747, "sunny")
 => [#<Plane:0x00007fbe541a2e70>]
2.5.0 :016 > Heathrow.takeoff(B747, "sunny")
 => [#<Plane:0x00007fbe541a2e70>]
2.5.0 :017 > Heathrow.takeoff(B747_400, "sunny")
 => []
2.5.0 :018 > B747_400.land_at(Stanstead, "stormy")
Traceback (most recent call last):
        2: from /Users/student/.rvm/rubies/ruby-2.5.0/bin/irb:11:in `<main>'
        1: from (irb):18
NameError (uninitialized constant Stanstead
Did you mean?  StandardError)
2.5.0 :019 >
```

Edge cases
-------
 **Accounted for**
* Planes can only take off from airports they are in
* Planes that are already flying cannot takes off
* Planes can only land in airports that exist

 **Unresolved**
* Planes that are already flying cannot be in an airport
* Planes that are landed cannot land again and must be in an airport
